<div class="main">
<ng-container *ngIf="(!idaLoaded) && loading && vueloIda == null">

  <div class="title mb-5"> <span class="title">Cargando viajes de ida...</span></div>
  <div class="loadercontainer m-auto">
  <span class="loader"></span>
</div>
</ng-container>


<ng-container *ngIf="!errorFound; else errorMessage">
  <div #ida *ngIf="idaLoaded && vueloIda == null">
<div>
  <div class="title mb-5"> <span class="title">Selecciona el viaje de ida:</span></div>

    <!--  -->
    <div class="maininfo" *ngFor="let f of flightsDeparture | orderBy: 'price'; let i = index ">

      <div>
        <div *ngIf="i == 0 && flightsDeparture.length > 1" class="cheaper bg-[#03a691] absolute w-fit
         text-white rounded-md text-[1.6vmin] px-1 font-semibold">Más barato</div>
      <img class="airline" src="assets/{{f.airline}}.png">
      </div>
    
      <div class="timeContainer">
        <div class="detailDate">
          <div class="hour">
            {{f.departureTime | date:'HH:mm'}} 
          </div>
          <div class="city">{{f.departureCity}}</div>
          <div class="date">{{f.departureTime | date:'E. dd LLLL yy' }}</div>
 
        </div>
        
        <div class="m-auto">
          <div class="flex justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"/>
          </svg> 
        </div>  
          <div class="duration bg-[#888888] text-white rounded-lg px-1 ">
            <span class="durationtext text-[2vmin] font-semibold">{{duration(f.departureTime, f.arrivalTime)}}</span>
         </div>   
        </div>
    
      <div class="detailDate">
          <div class="hour">{{f.arrivalTime | date:'HH:mm'}}</div>
          <div class="city">{{f.arrivalCity}}</div>
          <div class="date">{{f.arrivalTime | date:'E. dd LLLL yy'}}</div>
      </div>
      </div>
    
        <div class="m-auto">
          <div class="price text-center text-[3vmin] text-teal-950 font-semibold"><span class="text-[2.3vmin]">$</span>{{f.price | currency:'ARS':'' : '1.0-0'}}</div>
          <button (click)="clickIda(f)"
          class="boxbuton flex p-2 items-center text-[2.8vmin] rounded-lg bg-[#4300d2] hover:bg-[#270570] text-white font-semibold hover:border-transparent transition ease-in duration-200">Seleccionar
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="iconboton w-[3vmin]">
            <path fill-rule="evenodd" d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z" clip-rule="evenodd" />
          </svg>           
        </button>  
        </div>
    </div>
    <!--  -->

</div>
</div>

</ng-container>

<!-- vuelta -->

<div #vuelta *ngIf="vueloIda != null">

    <!-- -->
    <div class="maininfo">

      <div>
      <img class="airline" src="assets/{{vueloIda.airline}}.png"/>
      </div>
    
      <div class="timeContainer">
        <div class="detailDate">
          <div class="hour">{{vueloIda.departureTime | date:'HH:mm'}}</div>
          <div class="city">{{vueloIda.departureCity}}</div>
          <div class="date">{{vueloIda.departureTime | date:'E. dd LLLL yy'}}</div>
        </div>
        
        <div class="m-auto">
          <div class="flex justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"/>
          </svg> 
        </div>  
          <div class="duration bg-[#888888] text-white rounded-lg px-1">
            <span class="durationtext text-[2vmin] font-semibold">{{duration(vueloIda.departureTime, vueloIda.arrivalTime)}}</span>
         </div>   
        </div>
    
      <div class="detailDate">
          <div class="hour">{{vueloIda.arrivalTime | date:'HH:mm'}}</div>
          <div class="city">{{vueloIda.arrivalCity}}</div>
          <div class="date">{{vueloIda.arrivalTime | date:'E. dd LLLL yy'}}</div>
      </div>
      </div>
    
        <div class="m-auto">
          <div class="relative flex text-[1vmax] font-semibold text-[#0095cc]"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-[1rem] h-[1rem]">
            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z" clip-rule="evenodd" />
          </svg><span class="selected ml-0.5">Ida seleccionada</span></div> 
          <div class="price text-center text-[3vmin] text-teal-950 font-semibold"><span class="text-[2.3vmin]">$</span>{{vueloIda.price | currency:'ARS':'' : '1.0-0'}}</div>
        </div>
    </div> 

    <!--  -->
    <ng-container *ngIf="(!vueltaLoaded) && loading && vueloVuelta == null">
      <div class="title mt-5 mb-5"><span class="title">Cargando viajes de vuelta...</span></div>
      <div class="loadercontainer  m-auto">
        <span class="loader"></span>
    </div>
    </ng-container>


    <ng-container *ngIf="!errorFoundReturn; else errorMessage">
      <div *ngIf="vueltaLoaded && flightsReturn[0] != null">
      <div class="title mt-5 mb-5"> <span class="title">Selecciona el viaje de vuelta:</span></div>
    <div class="maininfo" *ngFor="let f of flightsReturn | orderBy: 'price'; let i = index ">

      <div>
        <div *ngIf="i == 0 && flightsReturn.length > 1" class="bg-[#00bacb] absolute w-fit
         text-white rounded-md text-[1.6vmin] px-1 font-semibold">Más barato</div>
      <img class="airline" src="assets/{{f.airline}}.png"/>
      </div>
    
      <div class="timeContainer">
        <div class="detailDate">
          <div class="hour">{{f.departureTime | date:'HH:mm'}}</div>
          <div class="city">{{f.departureCity}}</div>
          <div class="date">{{f.departureTime | date:'E. dd LLLL yy'}}</div>
        </div>
        
        <div class="m-auto">
          <div class="flex justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"/>
          </svg> 
        </div>  
          <div class="duration bg-[#888888] text-white rounded-lg px-1">
            <span class="durationtext text-[2vmin] font-semibold">{{duration(f.departureTime, f.arrivalTime)}}</span>
         </div>   
        </div>
    
      <div class="detailDate">
          <div class="hour">{{f.arrivalTime | date:'HH:mm'}}</div>
          <div class="city">{{f.arrivalCity}}</div>
          <div class="date">{{f.arrivalTime | date:'E. dd LLLL yy'}}</div>
      </div>
      </div>
    
        <div class="m-auto">
          <div class="price text-center text-[3vmin] text-teal-950 font-semibold"><span class="text-[2.3vmin]">$</span>{{f.price | currency:'ARS':'' : '1.0-0'}}</div>
          <button (click)="clickVuelta(f)"
          class="boxbuton flex items-center p-2 text-[2.8vmin] rounded-lg bg-[#4300d2] hover:bg-[#270570] text-white font-semibold hover:border-transparent transition ease-in duration-200">Seleccionar
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="iconboton w-[3vmin]">
            <path fill-rule="evenodd" d="M3 10a.75.75 0 01.75-.75h10.638L10.23 5.29a.75.75 0 111.04-1.08l5.5 5.25a.75.75 0 010 1.08l-5.5 5.25a.75.75 0 11-1.04-1.08l4.158-3.96H3.75A.75.75 0 013 10z" clip-rule="evenodd" />
          </svg>           
        </button>  
        </div>

    </div>
  </div>
  </ng-container>

  </div>

  <!-- vuelo error -->

  <ng-template #errorMessage>
    <div class="title mt-5 mb-5"><span class="title">No se encontraron vuelos</span></div>
  </ng-template>
</div>