<ng-container [formGroup]="form">
    <div class="book">
      
          <div class="caja">

            <mat-radio-group [(ngModel)]="isOneWay" (change)="return()">
              <mat-radio-button [checked]="true" value="false">Ida y vuelta</mat-radio-button>
              <mat-radio-button class="ml-1" value="true">SÃ³lo ida</mat-radio-button>
            </mat-radio-group>

           
          <div class="grid">
           
            
            <!-- salida  -->
           <div class="inputbox flex rounded-md bg-white h-14 border border-[#DDD]border-solid">
              <div class="my-auto p-2"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" viewBox="0 0 256 256" data-testid="originIcon"><rect width="256" height="256" fill="none"></rect><line x1="24" y1="216" x2="168" y2="216" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"></line><path d="M16.9,140.4l37.7,35.3a32,32,0,0,0,38,4.3L244,92,225.4,69.2a32,32,0,0,0-41-7.3L140,88,80,68,63.5,75.1a8,8,0,0,0-2.2,13.3L92,116,64,132,36,120l-16.8,7.2A8,8,0,0,0,16.9,140.4Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"></path></svg></div> 
              
               <div class="my-auto">
    
                <input class="cityname" list="cityname" autocomplete="off" type="text" (ngModelChange)="this.inputUpdate.next($event)" placeholder="Salgo de" formControlName="from" [matAutocomplete]="auto" minlength="1">
                <mat-autocomplete #auto="matAutocomplete" class="bg-[#242424]">
    
                  <div>
                    
                    <mat-option *ngFor="let option of getCities$ |async" [value]="option">
            
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-1">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
                      </svg>                     
                      {{option}}
                    </mat-option></div>
    
                </mat-autocomplete>
              </div>  
    
            </div>  
     
          <!-- llegada -->
          <div class="inputbox flex rounded-md bg-white h-14 border border-[#DDD]border-solid">
            <div class="my-auto p-2"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" viewBox="0 0 256 256" data-testid="destinationIcon"><rect width="256" height="256" fill="none"></rect><line x1="96" y1="216" x2="240" y2="216" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"></line><path d="M24,103.7V51.1a8,8,0,0,1,10.5-7.6L48,48,64,78,96,88V51.1a8,8,0,0,1,10.5-7.6L120,48l32,56,48.6,13.5A31.9,31.9,0,0,1,224,148.3V184L47.4,134.5A31.9,31.9,0,0,1,24,103.7Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="12"></path></svg></div>
            <div class="my-auto">
              <input class="cityname" matInput list="cityname" autocomplete="off" type="text" (ngModelChange)="this.inputUpdate.next($event)" minlength="1" placeholder="Voy a" formControlName="destination" [matAutocomplete]="auto">
              <mat-autocomplete #auto="matAutocomplete">
    
                <mat-option *ngFor="let option of getCities$ | async" [value]="option">
                  {{option}}
                </mat-option>
    
              </mat-autocomplete>
            </div>
      
        </div>
    
        <div *ngIf="isOneWay === false" >
          <div class="calendar inputbox flex rounded-md bg-white h-14 border border-[#DDD]border-solid">
            <div class="my-auto p-2"><svg (click)="picker.open()" viewBox="0 0 200 200" width="25" height="25" xmlns="http://www.w3.org/2000/svg" role="img" style="width: inherit; height: inherit; line-height: inherit; color: inherit;"><path d="M165 180H35c-8.3 0-15-6.7-15-15V35c0-8.3 6.7-15 15-15h25v-5c0-2.8 2.2-5 5-5s5 2.2 5 5v5h60v-5c0-2.8 2.2-5 5-5s5 2.2 5 5v5h25c8.3 0 15 6.7 15 15v130c0 8.3-6.7 15-15 15zM30 60v105c0 2.8 2.2 5 5 5h130c2.8 0 5-2.2 5-5V60H30zm0-10h140V35c0-2.8-2.2-5-5-5h-25v5c0 2.8-2.2 5-5 5s-5-2.2-5-5v-5H70v5c0 2.8-2.2 5-5 5s-5-2.2-5-5v-5H35c-2.8 0-5 2.2-5 5v15zm75 100c-2.8 0-5-2.2-5-5V97.1l-11.5 11.5c-2 2-5.1 2-7.1 0s-2-5.1 0-7.1l20-20c1.4-1.4 3.6-1.9 5.4-1.1c1.9.8 3.1 2.6 3.1 4.6v60c.1 2.8-2.1 5-4.9 5z"></path></svg></div>
            <mat-date-range-input [min]="minDate" [max]="maxDate" (click)="picker.open()" class="text-[#3f3f3f] my-auto" [rangePicker]="picker"> 
              <input class="cityname" matStartDate formControlName="fromDate" [placeholder]="fromDate != null ? fromDate : 'Salida'">
              <input class="cityname" matEndDate formControlName="toDate" [placeholder]="toDate != null ? toDate : 'Vuelta'">

            </mat-date-range-input>
        
              <mat-date-range-picker #picker></mat-date-range-picker>
           
            </div> 
          </div>

          <div *ngIf="isOneWay === true" #ida>

            <div class="calendar inputbox flex rounded-md bg-white h-14 border border-[#DDD]border-solid">
              <div class="my-auto p-2"><svg (click)="picker.open()" viewBox="0 0 200 200" width="25" height="25" xmlns="http://www.w3.org/2000/svg" role="img" style="width: inherit; height: inherit; line-height: inherit; color: inherit;"><path d="M165 180H35c-8.3 0-15-6.7-15-15V35c0-8.3 6.7-15 15-15h25v-5c0-2.8 2.2-5 5-5s5 2.2 5 5v5h60v-5c0-2.8 2.2-5 5-5s5 2.2 5 5v5h25c8.3 0 15 6.7 15 15v130c0 8.3-6.7 15-15 15zM30 60v105c0 2.8 2.2 5 5 5h130c2.8 0 5-2.2 5-5V60H30zm0-10h140V35c0-2.8-2.2-5-5-5h-25v5c0 2.8-2.2 5-5 5s-5-2.2-5-5v-5H70v5c0 2.8-2.2 5-5 5s-5-2.2-5-5v-5H35c-2.8 0-5 2.2-5 5v15zm75 100c-2.8 0-5-2.2-5-5V97.1l-11.5 11.5c-2 2-5.1 2-7.1 0s-2-5.1 0-7.1l20-20c1.4-1.4 3.6-1.9 5.4-1.1c1.9.8 3.1 2.6 3.1 4.6v60c.1 2.8-2.1 5-4.9 5z"></path></svg></div>

              <input class="cityname text-[#3f3f3f] my-auto" matInput formControlName="fromDate" [placeholder]="fromDate != null ? fromDate : 'Salida'" [matDatepicker]="picker" (click)="picker.open()">
                <mat-datepicker #picker></mat-datepicker>
             
              </div> 


          </div>
    
     
              <button (click)="getFlights()"
              class="busbot flex pl-1.5 pr-1.5 items-center justify-center rounded-md text-[white] font-semibold bg-gradient-to-r from-[#de1666]
               to-[#73146f] hover:from-[#d3105e] hover:to-[#5f0f5b] hover:border-transparent transition ease-in duration-200" [disabled]="!form.valid">Buscar
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5">
                <path d="M6.5 9a2.5 2.5 0 115 0 2.5 2.5 0 01-5 0z" />
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9 5a4 4 0 102.248 7.309l1.472 1.471a.75.75 0 101.06-1.06l-1.471-1.472A4 4 0 009 5z" clip-rule="evenodd"/></svg></button> 
 
              </div>       
      

            </div>        
      </div>
    </ng-container>

    <ng-container *ngIf="searched">
      <app-searchresults></app-searchresults>
    </ng-container>
    
      <!-- 
       -->
    
       
    
      <!--  -->

      <!--  -->